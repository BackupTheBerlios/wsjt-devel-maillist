<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Wsjt-devel] Bug report: attempted to start the decoder too soon
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/wsjt-devel/2010-December/index.html" >
   <LINK REL="made" HREF="mailto:wsjt-devel%40lists.berlios.de?Subject=Re%3A%20%5BWsjt-devel%5D%20Bug%20report%3A%20attempted%20to%20start%20the%20decoder%20too%20soon&In-Reply-To=%3CAANLkTi%3D_bdE4_R9mFrWcauatxjWsgKLqkCKs2dj-tnLE%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001025.html">
   <LINK REL="Next"  HREF="001049.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Wsjt-devel] Bug report: attempted to start the decoder too soon</H1>
    <B>Sivan Toledo</B> 
    <A HREF="mailto:wsjt-devel%40lists.berlios.de?Subject=Re%3A%20%5BWsjt-devel%5D%20Bug%20report%3A%20attempted%20to%20start%20the%20decoder%20too%20soon&In-Reply-To=%3CAANLkTi%3D_bdE4_R9mFrWcauatxjWsgKLqkCKs2dj-tnLE%40mail.gmail.com%3E"
       TITLE="[Wsjt-devel] Bug report: attempted to start the decoder too soon">stoledo at tau.ac.il
       </A><BR>
    <I>Tue Dec 14 10:01:56 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001025.html">[Wsjt-devel] Bug report: attempted to start the decoder too soon
</A></li>
        <LI>Next message: <A HREF="001049.html">[Wsjt-devel] Threads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1046">[ date ]</a>
              <a href="thread.html#1046">[ thread ]</a>
              <a href="subject.html#1046">[ subject ]</a>
              <a href="author.html#1046">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm surprised that the pthread functions are implemented in Windows, but I
guess they are.

Given that the multithreading functions exist on all platforms, perhaps it
would be good to notify threads when they have something to do rather than
let them die and start new ones in each cycle. The wspr2 thread is running
all the time, but the tx an rx threads die I think at the end of their cycle
and are started up again. It is possible to simply wake them up using a
condition variables. If Joe thinks it's a good idea, I can do that.
Condition variables can also eliminate the periodic 0.2s wakeups of wspr2,
but this is a bigger change that might be difficult to get right.

I have a possibly-related question that I will send in a separate email.

Sivan

On Tue, Dec 7, 2010 at 11:44 AM, John Nelson &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-devel">jmn at rmnjmn.demon.co.uk</A>&gt; wrote:

&gt;<i> Hi Sivan,
</I>&gt;<i>
</I>&gt;<i> &gt; I think that the lock and unlock routines don't do anything currently.
</I>&gt;<i>
</I>&gt;<i> If you look carefully at Makefile, you will see that WsprMod/Audio.so is
</I>&gt;<i> built with thnix.f90 and not cs_stub.f90 which is used elsewhere.    So the
</I>&gt;<i> lock/unlock routines contained in fthread.c and called from thnix.f90 are
</I>&gt;<i> active in the current setup.
</I>&gt;<i>
</I>&gt;<i> John
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Wsjt-devel mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-devel">Wsjt-devel at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-devel">https://lists.berlios.de/mailman/listinfo/wsjt-devel</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/wsjt-devel/attachments/20101214/f28054c8/attachment.html">https://lists.berlios.de/pipermail/wsjt-devel/attachments/20101214/f28054c8/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001025.html">[Wsjt-devel] Bug report: attempted to start the decoder too soon
</A></li>
	<LI>Next message: <A HREF="001049.html">[Wsjt-devel] Threads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1046">[ date ]</a>
              <a href="thread.html#1046">[ thread ]</a>
              <a href="subject.html#1046">[ subject ]</a>
              <a href="author.html#1046">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/wsjt-devel">More information about the Wsjt-devel
mailing list</a><br>
</body></html>
