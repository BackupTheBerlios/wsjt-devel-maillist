<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Wsjt-devel] gfortran
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/wsjt-devel/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:wsjt-devel%40lists.berlios.de?Subject=Re%3A%20%5BWsjt-devel%5D%20gfortran&In-Reply-To=%3C49FF25D6.2010508%40princeton.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000591.html">
   <LINK REL="Next"  HREF="000593.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Wsjt-devel] gfortran</H1>
    <B>Joe Taylor</B> 
    <A HREF="mailto:wsjt-devel%40lists.berlios.de?Subject=Re%3A%20%5BWsjt-devel%5D%20gfortran&In-Reply-To=%3C49FF25D6.2010508%40princeton.edu%3E"
       TITLE="[Wsjt-devel] gfortran">joe at Princeton.EDU
       </A><BR>
    <I>Mon May  4 19:28:54 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000591.html">[Wsjt-devel] gfortran
</A></li>
        <LI>Next message: <A HREF="000593.html">[Wsjt-devel] gfortran
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#592">[ date ]</a>
              <a href="thread.html#592">[ thread ]</a>
              <a href="subject.html#592">[ subject ]</a>
              <a href="author.html#592">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have spent the morning trying to isolate the problem with 
using gfortran to compile WSJT and WSPR (and presumably also 
MAP65 and MAP65-IQ, although I haven't tried those). 
Unfortunately, I am no wiser for all my tests.

The problem *may* have something to do with thread creation. 
  If the calls to routines defined in start_threads.c are 
commented out, the program does dot crash on startup.  This 
is hardly surprising, however, since it essentially 
de-activates most of the Fortran code.

My usual debugging technique (inserting diagnostic print 
statements in the code) fails to help in the present case. 
The program appears to die at various locations in what is 
completely benign code -- simple arithmetic statements, for 
example.  Some incorrect interaction between threads seems 
implicated, but I haven't been able to narrow it down further.

If anyone has succeeded in making recent WSPT/WSPR code run 
properly with the gfortran compiler, please speak up here 
with some details!

For completeness: the tests were made with Ubuntu 8.04.2, 
gcc 4.2.3, gfortran 4.2.3.

	-- 73, Joe, K1JT

Harry Popov wrote:
&gt;<i> On Thu, 30 Apr 2009 16:16:39 -0400
</I>&gt;<i> Diane Bruce &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-devel">db at db.net</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Joe and I would like to clear up the mystery of gfortran compiles
</I>&gt;&gt;<i> breaking.
</I>&gt;<i> 
</I>&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> The same here. Quick GUI view and crash. N.P while compiled with g95. OS
</I>&gt;<i> is Debian Testing and gcc 4.3.
</I>&gt;<i> 
</I>&gt;<i> BTW n.p. with elder gcc version 4.1. The same result was confirmed by a
</I>&gt;<i> friend with SuSe Linux Distribution.
</I>&gt;<i> 
</I>&gt;<i> I hope the problem will be discovered and code fixed as now it is not
</I>&gt;<i> possible to make official deb binary for Debian.
</I>&gt;<i> 
</I>&gt;<i> 73, Harry LZ1BB
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000591.html">[Wsjt-devel] gfortran
</A></li>
	<LI>Next message: <A HREF="000593.html">[Wsjt-devel] gfortran
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#592">[ date ]</a>
              <a href="thread.html#592">[ thread ]</a>
              <a href="subject.html#592">[ subject ]</a>
              <a href="author.html#592">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/wsjt-devel">More information about the Wsjt-devel
mailing list</a><br>
</body></html>
